"use strict";(self.webpackChunktelco_frontend=self.webpackChunktelco_frontend||[]).push([[53],{547:(e,t,r)=>{r.d(t,{A:()=>E});var o=r(8587),n=r(8168),a=r(5043),i=r(8387),l=r(8610),s=r(7266),c=r(4535),d=r(8206),h=r(3462),p=r(5006),u=r(6004),x=r(9523);const m=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],v=["component","slots","slotProps"],A=["component"];function g(e,t){const{className:r,elementType:a,ownerState:i,externalForwardedProps:l,getSlotOwnerState:s,internalForwardedProps:c}=t,d=(0,o.A)(t,m),{component:g,slots:f={[e]:void 0},slotProps:y={[e]:void 0}}=l,b=(0,o.A)(l,v),j=f[e]||a,w=(0,u.A)(y[e],i),S=(0,x.A)((0,n.A)({className:r},d,{externalForwardedProps:"root"===e?b:void 0,externalSlotProps:w})),{props:{component:C},internalRef:M}=S,L=(0,o.A)(S.props,A),k=(0,h.A)(M,null==w?void 0:w.ref,t.ref),R=s?s(L):{},N=(0,n.A)({},i,R),_="root"===e?C||g:C,I=(0,p.A)(j,(0,n.A)({},"root"===e&&!g&&!f[e]&&c,"root"!==e&&!f[e]&&c,L,_&&{as:_},{ref:k}),N);return Object.keys(R).forEach(e=>{delete I[e]}),[j,I]}var f=r(6803),y=r(3336),b=r(2532),j=r(2372);function w(e){return(0,j.Ay)("MuiAlert",e)}const S=(0,b.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var C=r(7392),M=r(9662),L=r(579);const k=(0,M.A)((0,L.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),R=(0,M.A)((0,L.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),N=(0,M.A)((0,L.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),_=(0,M.A)((0,L.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),I=(0,M.A)((0,L.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),P=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],z=(0,c.Ay)(y.A,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["".concat(r.variant).concat((0,f.A)(r.color||r.severity))]]}})(e=>{let{theme:t}=e;const r="light"===t.palette.mode?s.e$:s.a,o="light"===t.palette.mode?s.a:s.e$;return(0,n.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(n,"Color")]:r(t.palette[n].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(n,"StandardBg")]:o(t.palette[n].light,.9),["& .".concat(S.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(n,"IconColor")]}:{color:t.palette[n].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[o]=e;return{props:{colorSeverity:o,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:r(t.palette[o].light,.6),border:"1px solid ".concat((t.vars||t).palette[o].light),["& .".concat(S.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.dark}).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"filled"},style:(0,n.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(r,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(r,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}})]})}),F=(0,c.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),T=(0,c.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),W=(0,c.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),B={success:(0,L.jsx)(k,{fontSize:"inherit"}),warning:(0,L.jsx)(R,{fontSize:"inherit"}),error:(0,L.jsx)(N,{fontSize:"inherit"}),info:(0,L.jsx)(_,{fontSize:"inherit"})},E=a.forwardRef(function(e,t){const r=(0,d.b)({props:e,name:"MuiAlert"}),{action:a,children:s,className:c,closeText:h="Close",color:p,components:u={},componentsProps:x={},icon:m,iconMapping:v=B,onClose:A,role:y="alert",severity:b="success",slotProps:j={},slots:S={},variant:M="standard"}=r,k=(0,o.A)(r,P),R=(0,n.A)({},r,{color:p,severity:b,variant:M,colorSeverity:p||b}),N=(e=>{const{variant:t,color:r,severity:o,classes:n}=e,a={root:["root","color".concat((0,f.A)(r||o)),"".concat(t).concat((0,f.A)(r||o)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,l.A)(a,w,n)})(R),_={slots:(0,n.A)({closeButton:u.CloseButton,closeIcon:u.CloseIcon},S),slotProps:(0,n.A)({},x,j)},[E,O]=g("closeButton",{elementType:C.A,externalForwardedProps:_,ownerState:R}),[D,H]=g("closeIcon",{elementType:I,externalForwardedProps:_,ownerState:R});return(0,L.jsxs)(z,(0,n.A)({role:y,elevation:0,ownerState:R,className:(0,i.A)(N.root,c),ref:t},k,{children:[!1!==m?(0,L.jsx)(F,{ownerState:R,className:N.icon,children:m||v[b]||B[b]}):null,(0,L.jsx)(T,{ownerState:R,className:N.message,children:s}),null!=a?(0,L.jsx)(W,{ownerState:R,className:N.action,children:a}):null,null==a&&A?(0,L.jsx)(W,{ownerState:R,className:N.action,children:(0,L.jsx)(E,(0,n.A)({size:"small","aria-label":h,title:h,color:"inherit",onClick:A},O,{children:(0,L.jsx)(D,(0,n.A)({fontSize:"small"},H))}))}):null]}))})},4053:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var o=r(5043),n=r(6446),a=r(5865),i=r(547),l=r(1637),s=r(8903),c=r(3336),d=r(9216),h=r(3845),p=r(8587),u=r(8168),x=r(8387),m=r(8610),v=r(7266),A=r(4535),g=r(8206),f=r(5658),y=r(579);const b=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],j=(0,A.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})(e=>{let{theme:t,ownerState:r}=e;return(0,u.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},r.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},r.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,v.X4)(t.palette.divider,.08)},"inset"===r.variant&&{marginLeft:72},"middle"===r.variant&&"horizontal"===r.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===r.variant&&"vertical"===r.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===r.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},r.flexItem&&{alignSelf:"stretch",height:"auto"})},e=>{let{ownerState:t}=e;return(0,u.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})},e=>{let{theme:t,ownerState:r}=e;return(0,u.A)({},r.children&&"vertical"!==r.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}})},e=>{let{theme:t,ownerState:r}=e;return(0,u.A)({},r.children&&"vertical"===r.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}})},e=>{let{ownerState:t}=e;return(0,u.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})}),w=(0,A.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})(e=>{let{theme:t,ownerState:r}=e;return(0,u.A)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===r.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})}),S=o.forwardRef(function(e,t){const r=(0,g.b)({props:e,name:"MuiDivider"}),{absolute:o=!1,children:n,className:a,component:i=(n?"div":"hr"),flexItem:l=!1,light:s=!1,orientation:c="horizontal",role:d=("hr"!==i?"separator":void 0),textAlign:h="center",variant:v="fullWidth"}=r,A=(0,p.A)(r,b),S=(0,u.A)({},r,{absolute:o,component:i,flexItem:l,light:s,orientation:c,role:d,textAlign:h,variant:v}),C=(e=>{const{absolute:t,children:r,classes:o,flexItem:n,light:a,orientation:i,textAlign:l,variant:s}=e,c={root:["root",t&&"absolute",s,a&&"light","vertical"===i&&"vertical",n&&"flexItem",r&&"withChildren",r&&"vertical"===i&&"withChildrenVertical","right"===l&&"vertical"!==i&&"textAlignRight","left"===l&&"vertical"!==i&&"textAlignLeft"],wrapper:["wrapper","vertical"===i&&"wrapperVertical"]};return(0,m.A)(c,f.K,o)})(S);return(0,y.jsx)(j,(0,u.A)({as:i,className:(0,x.A)(C.root,a),role:d,ref:t,ownerState:S},A,{children:n?(0,y.jsx)(w,{className:C.wrapper,ownerState:S,children:n}):null}))});S.muiSkipListHighlight=!0;const C=S;var M=r(9074);const L={async getSummary(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(0,M.x)(e),o=new URL("".concat(r,"/api/v1/reports/summary"));t.date_from&&o.searchParams.set("date_from",t.date_from),t.date_to&&o.searchParams.set("date_to",t.date_to);const n=await fetch(o.toString());if(!n.ok)throw new Error("Failed to fetch report summary: ".concat(n.status," ").concat(n.statusText));return await n.json()}},k=e=>{if(!e||Number.isNaN(e))return"N/A";if(e<60)return"".concat(Math.round(e)," s");const t=Math.floor(e/60),r=Math.round(e%60);if(t<60)return"".concat(t," min ").concat(r,"s");const o=Math.floor(t/60),n=t%60;return"".concat(o," h ").concat(n," min")},R=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()};const N=function(e){let{backendUrl:t}=e;const[r,p]=(0,o.useState)(null),[u,x]=(0,o.useState)(!1),[m,v]=(0,o.useState)(null);return(0,o.useEffect)(()=>{if(!t)return;(async()=>{try{x(!0),v(null);const e=await L.getSummary(t);p(e)}catch(e){console.error("Failed to load report summary",e),v(e instanceof Error?e.message:"Failed to load report summary")}finally{x(!1)}})()},[t]),(0,y.jsxs)(n.A,{children:[(0,y.jsx)(a.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Reporting & Analytics"}),!t&&(0,y.jsx)(i.A,{severity:"info",sx:{mb:3},children:"Backend URL is not configured. Please connect the application to the backend."}),m&&(0,y.jsx)(i.A,{severity:"error",sx:{mb:3},onClose:()=>v(null),children:m}),u&&(0,y.jsxs)(n.A,{display:"flex",alignItems:"center",gap:2,sx:{mb:3},children:[(0,y.jsx)(l.A,{size:24}),(0,y.jsx)(a.A,{variant:"body1",children:"Loading summary\u2026"})]}),r&&!u&&(0,y.jsxs)(s.Ay,{container:!0,spacing:3,children:[(0,y.jsx)(s.Ay,{item:!0,xs:12,md:3,children:(0,y.jsxs)(c.A,{sx:{p:3},children:[(0,y.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Total Executions"}),(0,y.jsx)(a.A,{variant:"h4",component:"p",children:r.total_executions}),(0,y.jsx)(a.A,{variant:"caption",color:"text.secondary",children:"Executions recorded for the selected period"})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:3,children:(0,y.jsxs)(c.A,{sx:{p:3},children:[(0,y.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Success Rate"}),(0,y.jsxs)(a.A,{variant:"h4",component:"p",children:[r.success_rate.toFixed(2),"%"]}),(0,y.jsx)(a.A,{variant:"caption",color:"text.secondary",children:"Percentage of executions completed successfully"})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:3,children:(0,y.jsxs)(c.A,{sx:{p:3},children:[(0,y.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Avg. Duration"}),(0,y.jsx)(a.A,{variant:"h4",component:"p",children:k(r.average_duration_seconds)}),(0,y.jsx)(a.A,{variant:"caption",color:"text.secondary",children:"Average execution time"})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:3,children:(0,y.jsxs)(c.A,{sx:{p:3},children:[(0,y.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Devices Covered"}),(0,y.jsx)(a.A,{variant:"h4",component:"p",children:r.device_coverage}),(0,y.jsx)(a.A,{variant:"caption",color:"text.secondary",children:"Unique devices involved in executions"})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,y.jsxs)(c.A,{sx:{p:3},children:[(0,y.jsx)(a.A,{variant:"subtitle1",gutterBottom:!0,children:"Status Breakdown"}),(0,y.jsxs)(d.A,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:[(0,y.jsx)(h.A,{label:"Pending: ".concat(r.status_breakdown.pending)}),(0,y.jsx)(h.A,{label:"Running: ".concat(r.status_breakdown.running)}),(0,y.jsx)(h.A,{label:"Completed: ".concat(r.status_breakdown.completed),color:"success"}),(0,y.jsx)(h.A,{label:"Failed: ".concat(r.status_breakdown.failed),color:"error"}),(0,y.jsx)(h.A,{label:"Cancelled: ".concat(r.status_breakdown.cancelled),color:"warning"})]})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,y.jsxs)(c.A,{sx:{p:3},children:[(0,y.jsx)(a.A,{variant:"subtitle1",gutterBottom:!0,children:"Activity Highlights"}),(0,y.jsx)(C,{sx:{mb:2}}),(0,y.jsxs)(d.A,{spacing:1.5,children:[(0,y.jsxs)(n.A,{children:[(0,y.jsx)(a.A,{variant:"subtitle2",children:"Executions (last 7 days)"}),(0,y.jsx)(a.A,{variant:"body1",children:r.executions_last_7_days})]}),(0,y.jsxs)(n.A,{children:[(0,y.jsx)(a.A,{variant:"subtitle2",children:"Last Execution"}),(0,y.jsx)(a.A,{variant:"body1",children:R(r.last_execution_at)})]})]})]})})]}),!u&&!r&&t&&!m&&(0,y.jsx)(i.A,{severity:"info",children:"No executions available yet. Once tests have been run, you will see analytics here."})]})}},9074:(e,t,r)=>{r.d(t,{x:()=>o});const o=e=>{const t=e&&e.trim().length>0?e:"http://localhost:8007";return t.endsWith("/")?t.slice(0,-1):t}}}]);
//# sourceMappingURL=53.1158c5ac.chunk.js.map